<ui:composition template="/templates/layout.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="jakarta.faces.html"
    xmlns:ui="jakarta.faces.facelets">

<ui:define name="conteudo">
  <h1>Usuários</h1>

  <h:form>
    <h:panelGrid columns="2">
      <h:outputLabel value="Nome"/>
      <h:inputText value="#{usuarioController.usuario.nome}" required="true"/>
      <h:outputLabel value="Email"/>
      <h:inputText value="#{usuarioController.usuario.email}" required="true"/>
      <h:outputLabel value="Senha"/>
      <h:inputSecret value="#{usuarioController.usuario.senha}" required="true"/>
      <h:outputLabel value="Role"/>
      <h:selectOneMenu value="#{usuarioController.usuario.role}">
        <f:selectItem itemValue="ROLE_ADMIN" itemLabel="Administrador"/>
        <f:selectItem itemValue="ROLE_ATTENDANT" itemLabel="Atendente"/>
        <f:selectItem itemValue="ROLE_USER" itemLabel="Usuário"/>
      </h:selectOneMenu>
    </h:panelGrid>
    <h:commandButton value="Salvar" action="#{usuarioController.salvar}"/>
  </h:form>

  <h2>Lista</h2>
  <h:dataTable value="#{usuarioController.lista}" var="u">
    <h:column><f:facet name="header">ID</f:facet>#{u.id}</h:column>
    <h:column><f:facet name="header">Nome</f:facet>#{u.nome}</h:column>
    <h:column><f:facet name="header">Email</f:facet>#{u.email}</h:column>
    <h:column><f:facet name="header">Role</f:facet>#{u.role}</h:column>
    <h:column>
      <h:commandLink value="Editar" action="#{usuarioController.editar(u)}"/>
      <h:commandLink value="Excluir" action="#{usuarioController.excluir(u.id)}"/>
    </h:column>
  </h:dataTable>
</ui:define>
</ui:composition>
